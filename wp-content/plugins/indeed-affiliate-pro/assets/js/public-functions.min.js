function iaGenerateLink(b){jQuery(".uap-ap-generate-links-result").css("visibility","hidden");jQuery(".uap-ap-generate-social-result").css("visibility","hidden");var e=jQuery("#ia_generate_aff_custom_url").val();if(jQuery("#campaigns_select").length){var c=jQuery("#campaigns_select").val();"..."==c&&(c="")}else c="";var f=0,d=0;jQuery("#ref_type").html()&&1==jQuery("#ref_type").val()&&(f=1);jQuery("#friendly_links").html()&&1==jQuery("#friendly_links").val()&&(d=1);jQuery.ajax({type:"post",url:decodeURI(ajax_url),
data:{action:"ia_ajax_return_url_for_aff",aff_id:b,url:e,campaign:c,slug:f,friendly_links:d},success:function(b){if(b){var c=JSON.parse(b);b=c.url;var e=c.social;c=c.qr_code;0!=b&&(jQuery(".uap-ap-generate-links-result").html(b),jQuery(".uap-ap-generate-links-result").css("visibility","visible"));e&&(jQuery(".uap-ap-generate-social-result").html(e),jQuery(".uap-ap-generate-social-result").css("visibility","visible"));c&&(jQuery(".uap-ap-generate-qr-code").html(c),jQuery(".uap-ap-generate-qr-code").css("visibility",
"visible"))}}})}
function uapRegisterCheckViaAjax(b){var e="#"+jQuery(".uap-form-create-edit [name="+b+"]").parent().attr("id"),c=jQuery(".uap-form-create-edit [name="+b+"]").val(),f="";"pass2"==b?f=jQuery(".uap-form-create-edit [name=pass1]").val():"confirm_email"==b&&(f=jQuery(".uap-form-create-edit [name=user_email]").val());jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_check_reg_field_ajax",type:b,value:c,second_value:f},success:function(c){jQuery(e+" .uap-register-notice").remove();jQuery(".uap-form-create-edit [name="+
b+"]").removeClass("uap-input-notice");1!=c&&(jQuery(e).append('<div class="uap-register-notice">'+c+"</div>"),jQuery(".uap-form-create-edit [name="+b+"]").addClass("uap-input-notice"))}})}function uapAjaxCheckFieldConditionOnblurOnclick(b,e,c,f){b=jQuery(".uap-form-create-edit [name="+b+"]").val();uapAjaxCheckFieldCondition(b,e,c,f)}
function uapAjaxCheckOnClickFieldCondition(b,e,c,f,d){if("checkbox"==f){var g=[];jQuery(".uap-form-create-edit [name='"+b+"[]']:checked").each(function(){g.push(jQuery(this).val())});b=g.join(",")}else b=jQuery(".uap-form-create-edit [name="+b+"]:checked").val();uapAjaxCheckFieldCondition(b,e,c,d)}function uapAjaxCheckCnChangeMultiselectFieldCondition(b,e,c,f){b=jQuery(".uap-form-create-edit [name='"+b+"[]']").val();null!=b&&(b=b.join(","),uapAjaxCheckFieldCondition(b,e,c,f))}
function uapAjaxCheckFieldCondition(b,e,c,f){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_check_logic_condition_value",val:b,field:c},success:function(b){var d=jQuery("#uap_exceptionsfields").val();if(d){d=d.split(",");var h=d.indexOf(c)}else d=[];"1"==b?1==f?(jQuery(e).fadeIn(200),-1!=d.indexOf(c)&&d.splice(h,1)):(jQuery(e).fadeOut(200),-1==d.indexOf(c)&&d.push(c)):1==f?(jQuery(e).fadeOut(200),-1==d.indexOf(c)&&d.push(c)):(jQuery(e).fadeIn(200),-1!=d.indexOf(c)&&d.splice(h,
1));d&&(d=d.join(","),jQuery("#uap_exceptionsfields").val(d))}})}function uapGetCheckboxRadioValue(b,e){if("radio"==b){var c=jQuery("[name="+e+"]:checked").val();if("undefined"!=typeof c)return c}else{var f=[];jQuery("[name='"+e+"[]']:checked").each(function(){f.push(this.value)});if(0<f.length)return f.join(",")}return jQuery('[name="'+e+'"]').is(":checked")?1:""}
function uapRegisterCheckViaAjaxRec(b){jQuery(".uap-register-notice").remove();var e=[],c=jQuery("#uap_exceptionsfields").val();if(c)var f=c.split(",");for(c=0;c<b.length;c++)if(!(f&&-1<f.indexOf(b[c]))){jQuery(".uap-form-create-edit [name="+b[c]+"]").removeClass("uap-input-notice");var d=jQuery(".uap-form-create-edit [name="+b[c]+"]").attr("type");"undefined"==typeof d&&(d=jQuery(".uap-form-create-edit [name='"+b[c]+"[]']").attr("type"));"undefined"==typeof d&&(d=jQuery(".uap-form-create-edit [name='"+
b[c]+"']").prop("nodeName"));"undefined"==typeof d&&(d=jQuery(".uap-form-create-edit [name='"+b[c]+"[]']").prop("nodeName"),"SELECT"==d&&(d="multiselect"));"checkbox"==d||"radio"==d?d=uapGetCheckboxRadioValue(d,b[c]):"multiselect"==d?(d=jQuery(".uap-form-create-edit [name='"+b[c]+"[]']").val(),"object"==typeof d&&null!=d&&(d=d.join(","))):d=jQuery(".uap-form-create-edit [name="+b[c]+"]").val();var g="";"pass2"==b[c]?g=jQuery(".uap-form-create-edit [name=pass1]").val():"confirm_email"==b[c]?g=jQuery(".uap-form-create-edit [name=user_email]").val():
"tos"==b[c]&&(d=jQuery(".uap-form-create-edit [name=tos]").is(":checked")?1:0);e.push({type:b[c],value:d,second_value:g})}jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_check_reg_field_ajax",fields_obj:e},success:function(b){b=JSON.parse(b);for(var c=1,e=0;e<b.length;e++){var d=jQuery(".uap-form-create-edit [name="+b[e].type+"]").attr("type");"undefined"==typeof d&&(d=jQuery(".uap-form-create-edit [name='"+b[e].type+"[]']").attr("type"));"undefined"==typeof d&&(d=jQuery(".uap-form-create-edit [name='"+
b[e].type+"']").prop("nodeName"));"undefined"==typeof d&&(d=jQuery(".uap-form-create-edit [name='"+b[e].type+"[]']").prop("nodeName"),"SELECT"==d&&(d="multiselect"));d="radio"==d?jQuery(".uap-form-create-edit [name="+b[e].type+"]").parent().parent().attr("id"):"checkbox"==d&&"tos"!=b[e].type?jQuery(".uap-form-create-edit [name='"+b[e].type+"[]']").parent().parent().attr("id"):"multiselect"==d?jQuery(".uap-form-create-edit [name='"+b[e].type+"[]']").parent().attr("id"):jQuery(".uap-form-create-edit [name="+
b[e].type+"]").parent().attr("id");1!=b[e].value&&("undefined"==typeof d?jQuery(".uap-form-create-edit [name="+b[e].type+"]").after('<div class="uap-register-notice">'+b[e].value+"</div>"):(jQuery("#"+d).append('<div class="uap-register-notice">'+b[e].value+"</div>"),jQuery(".uap-form-create-edit [name="+b[e].type+"]").addClass("uap-input-notice")),c=0)}if(1==c)window.must_submit=1,jQuery(".uap-form-create-edit").submit();else return!1}})}
function uapShowSubtabs(b){"block"==jQuery("#uap_public_ap_"+b).css("display")?(jQuery("#uap_fa_sign-"+b).removeClass("fa-account-down-uap"),jQuery("#uap_fa_sign-"+b).addClass("fa-account-right-uap"),jQuery(".uap-public-ap-menu-subtabs").css("display","none")):(jQuery(".uap-ap-menu-sign").removeClass("fa-account-down-uap"),jQuery(".uap-ap-menu-sign").addClass("fa-account-right-uap"),jQuery(".uap-public-ap-menu-subtabs").css("display","none"),jQuery("#uap_public_ap_"+b).css("display","block"),jQuery("#uap_fa_sign-"+
b).removeClass("fa-account-right-uap"),jQuery("#uap_fa_sign-"+b).addClass("fa-account-down-uap"))}function uapPaymentType(){jQuery.each(["paypal","bt","stripe","stripe_v2"],function(b,c){jQuery("#uap_payment_with_"+c).css("display","none")});var b=jQuery("[name=uap_affiliate_payment_type]").val();jQuery("#uap_payment_with_"+b).fadeIn(200)}
function uapBecomeAffiliatePublic(){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_make_wp_user_affiliate_from_public"},success:function(b){b&&(window.location.href=b)}})}
function uapAddToWallet(b,e,c){var f=jQuery(c).val();if(""!=f)for(a in show_arr=f.split(","),show_arr)show_arr[a]=parseInt(show_arr[a]);else show_arr=[];if(jQuery(b).is(":checked"))-1==show_arr.indexOf(e)&&show_arr.push(e);else for(a in show_arr)parseInt(show_arr[a])==e&&show_arr.splice(a,1);f=show_arr.join(",");jQuery(c).val(f);jQuery("#uap_total_amount").html("");jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_get_amount_for_referral_list",r:f},success:function(b){b?jQuery("#uap_total_amount").html(b):
jQuery("#uap_total_amount").html(0)}})}function uapRemoveWalletItem(b,e){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_delete_wallet_item_via_ajax",type:b,code:e},success:function(b){b&&window.uap_current_url&&(window.location.href=window.uap_current_url)}})}
function uapDeleteFileViaAjax(b,e,c,f,d){if(confirm("Are you sure you want to delete?")){var g=jQuery(c).attr("data-h");jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_delete_attachment_ajax_action",attachemnt_id:b,user_id:e,field_name:f,h:g},success:function(b){jQuery(d).val("");jQuery(c+" .ajax-file-upload-filename").remove();jQuery(c+" .uap-delete-attachment-bttn").remove();jQuery(c+" .uap-member-photo").length&&(jQuery(c+" .uap-member-photo").remove(),"uap_avatar"==f&&(jQuery(c).prepend("<div class='uap-no-avatar uap-member-photo'></div>"),
jQuery(c+" .uap-file-upload").css("display","block")));jQuery(c+" .uap-file-name-uploaded").length&&jQuery(c+" .uap-file-name-uploaded").remove();jQuery(c+" .ajax-file-upload-progress").length&&jQuery(c+" .ajax-file-upload-progress").remove();jQuery(c+" .uap-icon-file-type").length&&jQuery(c+" .uap-icon-file-type").remove()}})}}
function uapMakeInputhString(b,e,c){str=jQuery(c).val();-1==str&&(str="");show_arr=""!=str?str.split(","):[];jQuery(b).is(":checked")?show_arr.push(e):(b=show_arr.indexOf(e),show_arr.splice(b,1));str=show_arr.join(",");""==str&&(str=-1);jQuery(c).val(str)}
function uapAffiliateUsernameTest(b){jQuery(".uap-username-not-exists").remove();jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_check_if_username_is_affiliate",username:b},success:function(b){1==b&&jQuery("#uap_affiliate_username_text").after('<div class="uap-username-not-exists">Username that You write is not affiliate!</div>')}})}
function uapCheckLoginField(b,e){var c=jQuery("#notice_"+b);c.fadeOut(500,function(){c.remove()});var f=jQuery("#uap_login_form [name="+b+"]").parent();""==jQuery("#uap_login_form [name="+b+"]").val()&&jQuery(f).append('<div class="uap-login-notice" id="notice_'+b+'">'+e+"</div>")}
function uapStripeV2UpdateFields(){var b=jQuery(".stripe_v2_meta_data_country").val(),e=jQuery(".stripe_v2_meta_data_user_type").val();"us"!=b&&(b="non_us");jQuery(".uap-stripe-v2-field").each(function(){var c=jQuery(this).attr("data-country"),f=jQuery(this).attr("data-type");"all"==c&&"all"==f?jQuery(this).css("display","block"):b==c?(e==f||"all"==f)&&jQuery(this).css("display","block"):e==f?(b==c||"all"==c)&&jQuery(this).css("display","block"):jQuery(this).css("display","none")});b=jQuery(".stripe_v2_meta_data_country").val();
"ca"==b&&(jQuery(".uap-js-routing-number").css("display","none"),jQuery(".uap-js-transit-number").css("display","block"),jQuery(".uap-js-institution-number").css("display","block"))}function uapDoHideInfoAffiliateBar(b){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_info_affiliate_bar_do_hide"},success:function(b){jQuery(".uap-menu-section").fadeOut(300);jQuery("#uap_info_affiliate_bar").fadeOut(300);jQuery("#uap_iab_style").remove()}})}
function uapInfoAffiliateBarUpdateLink(){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"ia_ajax_return_url_for_aff",aff_id:jQuery("#uap_info_affiliate_bar_extra_info").attr("data-affiliate_id"),url:window.location.href,campaign:"",slug:jQuery("#ap_affiliate_bar_ref_type").val(),friendly_links:jQuery("#uap_affiliate_bar_friendly_links").val()},success:function(b){b&&(b=JSON.parse(b).url,0!=b&&jQuery(".uap-js-iab-affiliate-link").val(b))}})}
function uapInfoAffiliateBarChangeBannerSize(b){jQuery.ajax({type:"post",url:decodeURI(ajax_url),data:{action:"uap_ajax_get_banner_for_permalink",affiliate_id:jQuery("#uap_info_affiliate_bar_banner_extra_info").attr("data-affiliate_id"),uid:jQuery("#uap_info_affiliate_bar_banner_extra_info").attr("data-uid"),url:window.location.href,size:b},success:function(b){b&&(jQuery("#uap_info_bar_banner_the_value").val(b),jQuery("#uap_info_bar_banner_wrapp").html(b))}})}
jQuery(document).ready(function(){var b=jQuery('meta[name="uap-token"]').attr("content");jQuery.ajaxSetup({headers:{"X-CSRF-UAP-TOKEN":b}})});
